overwrite: true
schema: ./server/src/modules/*/typeDefs/*.graphql.ts
documents: ['./client/src/components/**/*.tsx', './client/src/hooks/**/*.ts']
config:
  scalars:
    TimelessDate: 'TimelessDateString'
    IBAN: string
    Percentage: number
    URL: 'URL | string'
    FileScalar: 'File | Blob'
generates:
  schema.graphql.json:
    plugins:
      - 'introspection'
  server/src/modules/:
    preset: graphql-modules
    presetConfig:
      baseTypesPath: ../__generated__/types.ts
      filename: __generated__/types.ts
      encapsulateModuleTypes: namespace
    config:
      immutableTypes: true
      contextType: 'GraphQLModules.Context'
      optionalResolveType: true
      enumValues:
        MissingChargeInfo: '@shared/enums#MissingChargeInfo'
        ChargeSortByField: '@shared/enums#ChargeSortByField'
        TransactionDirection: '@shared/enums#TransactionDirection'
        Currency: '@shared/enums#Currency'
        DocumentType: '@shared/enums#DocumentType'
      mappers:
        LtdFinancialEntity: '@modules/financial-entities/types.js#IGetFinancialEntitiesByIdsResult'
        PersonalFinancialEntity: '@modules/financial-entities/types.js#IGetFinancialEntitiesByIdsResult'
        BankFinancialAccount: '@modules/financial-accounts/types.js#IGetFinancialAccountsByFinancialEntityIdsResult'
        CardFinancialAccount: '@modules/financial-accounts/types.js#IGetFinancialAccountsByFinancialEntityIdsResult'
        Charge: '@modules/charges/types.js#IGetChargesByIdsResult'
        LedgerRecord: '@modules/ledger/types.js#IGetLedgerRecordsByChargeIdsResult'
        NamedCounterparty: '@shared/types#CounterpartyProto'
        Invoice: '@modules/documents/types.js#IGetAllDocumentsResult'
        Proforma: '@modules/documents/types.js#IGetAllDocumentsResult'
        Receipt: '@modules/documents/types.js#IGetAllDocumentsResult'
        InvoiceReceipt: '@modules/documents/types.js#IGetAllDocumentsResult'
        WireTransaction: '@modules/charges/types.js#IGetChargesByIdsResult'
        FeeTransaction: '@modules/charges/types.js#IGetChargesByIdsResult'
        ConversionTransaction: '@modules/charges/types.js#IGetChargesByIdsResult'
        CommonTransaction: '@modules/charges/types.js#IGetChargesByIdsResult'
        BeneficiaryCounterparty: '@shared/types#BeneficiaryCounterpartyProto'
        Unprocessed: '@modules/documents/types.js#IGetAllDocumentsResult'
        SortCode: '@modules/hashavshevet/types.js#IGetSortCodesByIdsResult'
        HashavshevetAccount: '@modules/hashavshevet/types.js#IGetAccountCardsBySortCodesResult'
        BusinessTransactionSum: '@shared/types#RawBusinessTransactionsSum'
        VatReportRecord: '@modules/reports/helpers/vat-report.helper.js#DecoratedVatReportRecord'
    plugins:
      - add:
          content: "import { TimelessDateString } from '@shared/types'"
      - 'typescript'
      - 'typescript-resolvers'
  client/src/gql/:
    preset: 'client'
    presetConfig:
      fragmentMasking:
        unmaskFunctionName: 'getFragmentData'
    plugins:
      - add:
          content: "import { TimelessDateString } from '../helpers'"
